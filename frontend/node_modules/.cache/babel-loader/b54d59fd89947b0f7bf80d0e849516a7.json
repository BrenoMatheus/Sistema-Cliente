{"ast":null,"code":"export var errorInterceptor=function errorInterceptor(error){var _error$response;if(error.message==='Network Error'){return Promise.reject(new Error('Erro de conexão.'));}if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){var _error$config$url;localStorage.removeItem('APP_ACCESS_TOKEN');if((_error$config$url=error.config.url)!==null&&_error$config$url!==void 0&&_error$config$url.includes('entrar')){alert(error.response.data.errors.default);}else{window.location.reload();}}return Promise.reject(error);};","map":{"version":3,"sources":["/home/brenomatheus/Documentos/Projeto advocacia/frontend/src/shared/services/api/axios-config/interceptors/ErrorInterceptor.ts"],"names":["errorInterceptor","error","message","Promise","reject","Error","response","status","localStorage","removeItem","config","url","includes","alert","data","errors","default","window","location","reload"],"mappings":"AAGA,MAAO,IAAMA,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAuB,qBAErD,GAAIA,KAAK,CAACC,OAAN,GAAkB,eAAtB,CAAuC,CACrC,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAe,GAAIC,CAAAA,KAAJ,CAAU,kBAAV,CAAf,CAAP,CACD,CAED,GAAI,kBAAAJ,KAAK,CAACK,QAAN,0DAAgBC,MAAhB,IAA2B,GAA/B,CAAoC,uBAClCC,YAAY,CAACC,UAAb,CAAwB,kBAAxB,EAEA,sBAAIR,KAAK,CAACS,MAAN,CAAaC,GAAjB,sCAAI,kBAAkBC,QAAlB,CAA2B,QAA3B,CAAJ,CAA0C,CACxCC,KAAK,CAACZ,KAAK,CAACK,QAAN,CAAeQ,IAAf,CAAoBC,MAApB,CAA2BC,OAA5B,CAAL,CACD,CAFD,IAEO,CACLC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,CAED,MAAOhB,CAAAA,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP,CACD,CAjBM","sourcesContent":["import { AxiosError } from 'axios';\n\n\nexport const errorInterceptor = (error: AxiosError) => {\n\n  if (error.message === 'Network Error') {\n    return Promise.reject(new Error('Erro de conexão.'));\n  }\n\n  if (error.response?.status === 401) {\n    localStorage.removeItem('APP_ACCESS_TOKEN');\n\n    if (error.config.url?.includes('entrar')) {\n      alert(error.response.data.errors.default);\n    } else {\n      window.location.reload();\n    }\n  }\n\n  return Promise.reject(error);\n};\n"]},"metadata":{},"sourceType":"module"}