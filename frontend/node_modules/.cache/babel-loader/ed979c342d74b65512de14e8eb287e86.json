{"ast":null,"code":"import _toConsumableArray from\"/home/brenomatheus/Documentos/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/brenomatheus/Documentos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/brenomatheus/Documentos/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Box,Grid,LinearProgress,Paper,Typography}from'@mui/material';import{useParams}from'react-router-dom';import*as yup from'yup';import{VTextField,VForm,useVForm}from'../../../../shared/forms';import{DetailTool}from'../../../../shared/components';import{ItemofLinesService}from'../../../../shared/services/api/itemofLines/ItemofLinesService';import TableList from'./TableList';import{useDebounce}from'../../../../shared/hooks';import{AutoCompleteItem}from'./AutoCompleteItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var formValidationSchema=yup.object().shape({amount:yup.number().required(),total:yup.number().required(),orderID:yup.number().integer().required(),itemID:yup.number().integer().required()});export var DetailItemofLines=function DetailItemofLines(){var _useDebounce=useDebounce(),debounce=_useDebounce.debounce;var _useVForm=useVForm(),formRef=_useVForm.formRef,save=_useVForm.save;var _useParams=useParams(),id=_useParams.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];useEffect(function(){setIsLoading(true);debounce(function(){ItemofLinesService.getAll(1,id).then(function(result){setIsLoading(false);if(result instanceof Error){alert(result.message);}else{setRows(result.data);}});});},[id]);var handleSubmit=function handleSubmit(dados){dados=_objectSpread(_objectSpread({},dados),{},{orderID:Number(id)});formValidationSchema.validate(dados,{abortEarly:false}).then(function(dadosValidados){setIsLoading(true);ItemofLinesService.create(dadosValidados).then(function(result){setIsLoading(false);if(result instanceof Error){alert(result.message);}else{ReloadRows(result,dadosValidados);}});}).catch(function(errors){var _formRef$current;var validationErrors={};errors.inner.forEach(function(error){if(!error.path)return;validationErrors[error.path]=error.message;});(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.setErrors(validationErrors);});};var ReloadRows=function ReloadRows(id,data){setRows([].concat(_toConsumableArray(rows),[_objectSpread({id:Number(id)},data)]));};var handleDelete=function handleDelete(id){if(confirm('Realmente deseja apagar?')){ItemofLinesService.deleteById(id).then(function(result){if(result instanceof Error){alert(result.message);}else{alert('Registro apagado com sucesso!');setRows(rows.filter(function(row){return row.id!==Number(id);}));}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VForm,{ref:formRef,onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Box,{margin:1,display:\"flex\",flexDirection:\"column\",component:Paper,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",padding:2,spacing:2,children:[isLoading&&/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(LinearProgress,{variant:\"indeterminate\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Produto/Servi\\xE7o\"})}),/*#__PURE__*/_jsxs(Grid,{container:true,item:true,spacing:{xs:2,md:3},columns:{xs:3,sm:6,md:8},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:3,sm:4,md:3,marginTop:2,children:/*#__PURE__*/_jsx(AutoCompleteItem,{isExternalLoading:isLoading,itemID:0})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:3,md:2,children:/*#__PURE__*/_jsx(VTextField,{variant:\"standard\",fullWidth:true,name:\"amount\",label:\"Quantidade\",disabled:isLoading})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:3,md:2,children:/*#__PURE__*/_jsx(VTextField,{variant:\"standard\",fullWidth:true,name:\"total\",label:\"Total\",disabled:isLoading})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(DetailTool,{textoBotaoNovo:\"Nova\",mostrarBotaoSalvarEFechar:id=='nova',mostrarBotaoVoltar:id=='nova',mostrarBotaoNovo:id=='nova',mostrarBotaoApagar:id=='nova',aoClicarEmSalvar:save})})]})]})})}),/*#__PURE__*/_jsx(Box,{margin:1,display:\"flex\",flexDirection:\"column\",component:Paper,variant:\"outlined\",children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"column\",padding:2,spacing:2,children:/*#__PURE__*/_jsx(Grid,{container:true,item:true,spacing:{xs:2,md:3},columns:{xs:3,sm:6,md:8}})})}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,p:2},margin:1,display:\"flex\",flexDirection:\"column\",component:Paper,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",margin:2,padding:2,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:2,borderBottom:1,spacing:{xs:2,md:3},columns:{xs:3,sm:6,md:8},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:4,md:3,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Produto/Servi\\xE7o\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:4,md:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Qtd\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:4,md:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Total\"})})]}),rows.map(function(row){return/*#__PURE__*/_jsx(TableList,{handleDelete:handleDelete,id:row.id,name:\"item\",data:row},row.id);})]})})]});};","map":{"version":3,"sources":["/home/brenomatheus/Documentos/frontend/src/pages/orders/components/itemofLines/DetailItemofLines.tsx"],"names":["useEffect","useState","Box","Grid","LinearProgress","Paper","Typography","useParams","yup","VTextField","VForm","useVForm","DetailTool","ItemofLinesService","TableList","useDebounce","AutoCompleteItem","formValidationSchema","object","shape","amount","number","required","total","orderID","integer","itemID","DetailItemofLines","debounce","formRef","save","id","isLoading","setIsLoading","rows","setRows","getAll","then","result","Error","alert","message","data","handleSubmit","dados","Number","validate","abortEarly","dadosValidados","create","ReloadRows","catch","errors","validationErrors","inner","forEach","error","path","current","setErrors","handleDelete","confirm","deleteById","filter","row","xs","md","sm","flexGrow","p","map"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  Box,\n  Grid,\n  LinearProgress,\n  Paper,\n  Typography,\n} from '@mui/material';\nimport { useParams } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport {\n  VTextField,\n  VForm,\n  useVForm,\n  IVFormErrors,\n} from '../../../../shared/forms';\nimport { DetailTool } from '../../../../shared/components';\nimport {\n  IListItemofLine,\n  ItemofLinesService,\n} from '../../../../shared/services/api/itemofLines/ItemofLinesService';\nimport TableList from './TableList';\nimport { useDebounce } from '../../../../shared/hooks';\nimport { AutoCompleteItem } from './AutoCompleteItem';\n\ninterface IFormData {\n  orderID: number;\n  itemID: number;\n  amount: number;\n  total: number;\n}\nexport const formValidationSchema: yup.SchemaOf<IFormData> = yup\n  .object()\n  .shape({\n    amount: yup.number().required(),\n    total: yup.number().required(),\n    orderID: yup.number().integer().required(),\n    itemID: yup.number().integer().required(),\n  });\n\nexport const DetailItemofLines: React.FC = () => {\n  const { debounce } = useDebounce();\n  const { formRef, save } = useVForm();\n  const { id } = useParams<'id'>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [rows, setRows] = useState<IListItemofLine[]>([]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    debounce(() => {\n      ItemofLinesService.getAll(1, id).then((result) => {\n        setIsLoading(false);\n\n        if (result instanceof Error) {\n          alert(result.message);\n        } else {\n          setRows(result.data);\n        }\n      });\n    });\n  }, [id]);\n\n  const handleSubmit = (dados: IFormData) => {\n    dados = { ...dados, orderID: Number(id) };\n    formValidationSchema\n      .validate(dados, { abortEarly: false })\n      .then((dadosValidados) => {\n        setIsLoading(true);\n        ItemofLinesService.create(dadosValidados).then((result) => {\n          setIsLoading(false);\n\n          if (result instanceof Error) {\n            alert(result.message);\n          } else {\n            ReloadRows(result, dadosValidados);\n          }\n        });\n      })\n      .catch((errors: yup.ValidationError) => {\n        const validationErrors: IVFormErrors = {};\n\n        errors.inner.forEach((error) => {\n          if (!error.path) return;\n\n          validationErrors[error.path] = error.message;\n        });\n\n        formRef.current?.setErrors(validationErrors);\n      });\n  };\n\n  const ReloadRows = (id:number, data:IFormData) => {\n    setRows([...rows, {id: Number(id), ...data}]);\n  };  \n\n  const handleDelete = (id: number) => {\n    if (confirm('Realmente deseja apagar?')) {\n      ItemofLinesService.deleteById(id).then((result) => {\n        if (result instanceof Error) {\n          alert(result.message);\n        } else {\n          alert('Registro apagado com sucesso!');\n          setRows(rows.filter(row => row.id !== Number(id))); \n        }\n      });\n    }\n  };\n\n  return (\n    <>\n      <VForm ref={formRef} onSubmit={handleSubmit}>\n        <Box\n          margin={1}\n          display=\"flex\"\n          flexDirection=\"column\"\n          component={Paper}\n          variant=\"outlined\"\n        >\n          <Grid container direction=\"column\" padding={2} spacing={2}>\n            {isLoading && (\n              <Grid item>\n                <LinearProgress variant=\"indeterminate\" />\n              </Grid>\n            )}\n\n            <Grid item>\n              <Typography variant=\"h6\">Produto/Serviço</Typography>\n            </Grid>\n\n            <Grid\n              container\n              item\n              spacing={{ xs: 2, md: 3 }}\n              columns={{ xs: 3, sm: 6, md: 8 }}\n            >\n              <Grid item xs={3} sm={4} md={3} marginTop={2}>\n                <AutoCompleteItem isExternalLoading={isLoading} itemID={0} />\n              </Grid>\n              <Grid item xs={2} sm={3} md={2}>\n                <VTextField\n                  variant=\"standard\"\n                  fullWidth\n                  name=\"amount\"\n                  label=\"Quantidade\"\n                  disabled={isLoading}\n                />\n              </Grid>\n              <Grid item xs={2} sm={3} md={2}>\n                <VTextField\n                  variant=\"standard\"\n                  fullWidth\n                  name=\"total\"\n                  label=\"Total\"\n                  disabled={isLoading}\n                />\n              </Grid>\n              <Grid item xs={1}>\n                <DetailTool\n                  textoBotaoNovo=\"Nova\"\n                  mostrarBotaoSalvarEFechar={id == 'nova'}\n                  mostrarBotaoVoltar={id == 'nova'}\n                  mostrarBotaoNovo={id == 'nova'}\n                  mostrarBotaoApagar={id == 'nova'}\n                  aoClicarEmSalvar={save}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </VForm>\n      <Box\n        margin={1}\n        display=\"flex\"\n        flexDirection=\"column\"\n        component={Paper}\n        variant=\"outlined\"\n      >\n        <Grid container direction=\"column\" padding={2} spacing={2}>\n          <Grid\n            container\n            item\n            spacing={{ xs: 2, md: 3 }}\n            columns={{ xs: 3, sm: 6, md: 8 }}\n          ></Grid>\n        </Grid>\n      </Box>\n      <Box\n        sx={{ flexGrow: 1, p: 2 }}\n        margin={1}\n        display=\"flex\"\n        flexDirection=\"column\"\n        component={Paper}\n        variant=\"outlined\"\n      >\n        <Grid container direction=\"column\" margin={2} padding={2} spacing={2}>\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            marginBottom={2}\n            borderBottom={1}\n            spacing={{ xs: 2, md: 3 }}\n            columns={{ xs: 3, sm: 6, md: 8 }}\n          >\n            <Grid item xs={2} sm={4} md={3}>\n              <Typography variant=\"h6\">Produto/Serviço</Typography>\n            </Grid>\n            <Grid item xs={2} sm={4} md={2}>\n              <Typography variant=\"h6\">Qtd</Typography>\n            </Grid>\n            <Grid item xs={2} sm={4} md={2}>\n              <Typography variant=\"h6\">Total</Typography>\n            </Grid>\n          </Grid>\n          {rows.map((row) => (\n            <TableList handleDelete={handleDelete} key={row.id} id={row.id} name=\"item\" data={row} />\n          ))}\n        </Grid>\n      </Box>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}