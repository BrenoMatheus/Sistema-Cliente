{"ast":null,"code":"import _asyncToGenerator from\"/home/brenomatheus/Documentos/Projeto advocacia/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/brenomatheus/Documentos/Projeto advocacia/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{Environment}from'../../../environment';import{Api}from'../axios-config';var getAll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var page,filter,id,urlRelativa,_yield$Api$get,data,headers,_response,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:page=_args.length>0&&_args[0]!==undefined?_args[0]:1;filter=_args.length>1&&_args[1]!==undefined?_args[1]:'';id=_args.length>2&&_args[2]!==undefined?_args[2]:0;_context.prev=3;urlRelativa=\"/clients?page=\".concat(page,\"&limit=\").concat(Environment.LIMITE_DE_LINHAS,\"&filter=\").concat(filter,\"&id=\").concat(id);_context.next=7;return Api().get(urlRelativa);case 7:_yield$Api$get=_context.sent;data=_yield$Api$get.data;headers=_yield$Api$get.headers;if(!data){_context.next=12;break;}return _context.abrupt(\"return\",{data:data,totalCount:Number(headers['x-total-count']||Environment.LIMITE_DE_LINHAS)});case 12:return _context.abrupt(\"return\",new Error('Erro ao listar os registros.'));case 15:_context.prev=15;_context.t0=_context[\"catch\"](3);console.error(_context.t0);return _context.abrupt(\"return\",new Error(((_response=_context.t0.response)===null||_response===void 0?void 0:_response.data.errors.default)||'Erro ao listar os registros.'));case 19:case\"end\":return _context.stop();}}},_callee,null,[[3,15]]);}));return function getAll(){return _ref.apply(this,arguments);};}();var getById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var _yield$Api$get2,data,_response2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Api().get(\"/clients/\".concat(id));case 3:_yield$Api$get2=_context2.sent;data=_yield$Api$get2.data;if(!data){_context2.next=7;break;}return _context2.abrupt(\"return\",data);case 7:return _context2.abrupt(\"return\",new Error('Erro ao consultar o registro.'));case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);return _context2.abrupt(\"return\",new Error(((_response2=_context2.t0.response)===null||_response2===void 0?void 0:_response2.data.errors.default)||'Erro ao consultar o registro.'));case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function getById(_x){return _ref2.apply(this,arguments);};}();var create=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dados){var _yield$Api$post,data,_response3;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Api().post('/clients',dados);case 3:_yield$Api$post=_context3.sent;data=_yield$Api$post.data;if(!data){_context3.next=7;break;}return _context3.abrupt(\"return\",data);case 7:return _context3.abrupt(\"return\",new Error('Erro ao criar o registro.'));case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);return _context3.abrupt(\"return\",new Error(((_response3=_context3.t0.response)===null||_response3===void 0?void 0:_response3.data.errors.default)||'Erro ao criar o registro.'));case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function create(_x2){return _ref3.apply(this,arguments);};}();var updateById=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id,dados){var _response4;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Api().put(\"/clients/\".concat(id),dados);case 3:_context4.next=9;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);return _context4.abrupt(\"return\",new Error(((_response4=_context4.t0.response)===null||_response4===void 0?void 0:_response4.data.errors.default)||'Erro ao atualizar o registro.'));case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);}));return function updateById(_x3,_x4){return _ref4.apply(this,arguments);};}();var deleteById=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var _response5;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return Api().delete(\"/clients/\".concat(id));case 3:_context5.next=8;break;case 5:_context5.prev=5;_context5.t0=_context5[\"catch\"](0);return _context5.abrupt(\"return\",new Error(((_response5=_context5.t0.response)===null||_response5===void 0?void 0:_response5.data.errors.default)||'Erro ao apagar o registro.'));case 8:case\"end\":return _context5.stop();}}},_callee5,null,[[0,5]]);}));return function deleteById(_x5){return _ref5.apply(this,arguments);};}();export var ClientsService={getAll:getAll,create:create,getById:getById,updateById:updateById,deleteById:deleteById};","map":{"version":3,"sources":["/home/brenomatheus/Documentos/Projeto advocacia/frontend/src/shared/services/api/clients/ClientsService.ts"],"names":["Environment","Api","getAll","page","filter","id","urlRelativa","LIMITE_DE_LINHAS","get","data","headers","totalCount","Number","Error","console","error","response","errors","default","getById","create","dados","post","updateById","put","deleteById","delete","ClientsService"],"mappings":"+RAEA,OAASA,WAAT,KAA4B,sBAA5B,CACA,OAASC,GAAT,KAAoB,iBAApB,CA0BA,GAAMC,CAAAA,MAAM,0FAAG,wNAAOC,IAAP,+CAAc,CAAd,CAAiBC,MAAjB,+CAA0B,EAA1B,CAA8BC,EAA9B,+CAAmC,CAAnC,iBAELC,WAFK,yBAE0BH,IAF1B,mBAEwCH,WAAW,CAACO,gBAFpD,oBAE+EH,MAF/E,gBAE4FC,EAF5F,wBAIqBJ,CAAAA,GAAG,GAAGO,GAAN,CAAUF,WAAV,CAJrB,qCAIHG,IAJG,gBAIHA,IAJG,CAIGC,OAJH,gBAIGA,OAJH,KAMPD,IANO,0DAOF,CACLA,IAAI,CAAJA,IADK,CAELE,UAAU,CAAEC,MAAM,CAACF,OAAO,CAAC,eAAD,CAAP,EAA4BV,WAAW,CAACO,gBAAzC,CAFb,CAPE,0CAaJ,GAAIM,CAAAA,KAAJ,CAAU,8BAAV,CAbI,4DAeXC,OAAO,CAACC,KAAR,cAfW,gCAgBJ,GAAIF,CAAAA,KAAJ,CAAU,wBAAsBG,QAAtB,8CAAgCP,IAAhC,CAAqCQ,MAArC,CAA4CC,OAA5C,GAAuD,8BAAjE,CAhBI,uEAAH,kBAANhB,CAAAA,MAAM,0CAAZ,CAoBA,GAAMiB,CAAAA,OAAO,2FAAG,kBAAOd,EAAP,kMAEWJ,CAAAA,GAAG,GAAGO,GAAN,oBAAsBH,EAAtB,EAFX,uCAEJI,IAFI,iBAEJA,IAFI,KAIRA,IAJQ,2DAKHA,IALG,0CAQL,GAAII,CAAAA,KAAJ,CAAU,+BAAV,CARK,+DAUZC,OAAO,CAACC,KAAR,eAVY,iCAWL,GAAIF,CAAAA,KAAJ,CAAU,0BAAsBG,QAAtB,gDAAgCP,IAAhC,CAAqCQ,MAArC,CAA4CC,OAA5C,GAAuD,+BAAjE,CAXK,yEAAH,kBAAPC,CAAAA,OAAO,6CAAb,CAeA,GAAMC,CAAAA,MAAM,2FAAG,kBAAOC,KAAP,kMAEYpB,CAAAA,GAAG,GAAGqB,IAAN,CAAmB,UAAnB,CAA+BD,KAA/B,CAFZ,uCAEHZ,IAFG,iBAEHA,IAFG,KAIPA,IAJO,2DAKFA,IALE,0CAQJ,GAAII,CAAAA,KAAJ,CAAU,2BAAV,CARI,+DAUXC,OAAO,CAACC,KAAR,eAVW,iCAWJ,GAAIF,CAAAA,KAAJ,CAAU,0BAAsBG,QAAtB,gDAAgCP,IAAhC,CAAqCQ,MAArC,CAA4CC,OAA5C,GAAuD,2BAAjE,CAXI,yEAAH,kBAANE,CAAAA,MAAM,8CAAZ,CAeA,GAAMG,CAAAA,UAAU,2FAAG,kBAAOlB,EAAP,CAAmBgB,KAAnB,6KAETpB,CAAAA,GAAG,GAAGuB,GAAN,oBAAsBnB,EAAtB,EAA4BgB,KAA5B,CAFS,0FAIfP,OAAO,CAACC,KAAR,eAJe,iCAKR,GAAIF,CAAAA,KAAJ,CAAU,0BAAsBG,QAAtB,gDAAgCP,IAAhC,CAAqCQ,MAArC,CAA4CC,OAA5C,GAAuD,+BAAjE,CALQ,uEAAH,kBAAVK,CAAAA,UAAU,kDAAhB,CASA,GAAME,CAAAA,UAAU,2FAAG,kBAAOpB,EAAP,6KAETJ,CAAAA,GAAG,GAAGyB,MAAN,oBAAyBrB,EAAzB,EAFS,2HAIR,GAAIQ,CAAAA,KAAJ,CAAU,0BAAsBG,QAAtB,gDAAgCP,IAAhC,CAAqCQ,MAArC,CAA4CC,OAA5C,GAAuD,4BAAjE,CAJQ,uEAAH,kBAAVO,CAAAA,UAAU,8CAAhB,CASA,MAAO,IAAME,CAAAA,cAAc,CAAG,CAC5BzB,MAAM,CAANA,MAD4B,CAE5BkB,MAAM,CAANA,MAF4B,CAG5BD,OAAO,CAAPA,OAH4B,CAI5BI,UAAU,CAAVA,UAJ4B,CAK5BE,UAAU,CAAVA,UAL4B,CAAvB","sourcesContent":["import { AxiosError } from 'axios';\n\nimport { Environment } from '../../../environment';\nimport { Api } from '../axios-config';\n\n\nexport interface IListClient {\n  id: number,\n  name: string,\n  email: string,\n  telephone: number,\n  longitude:number,\n  latitude:number,\n}\n\nexport interface IDetailClient {\n  id: number,\n  name: string,\n  email: string,\n  telephone: number,\n  longitude:number,\n  latitude:number,\n}\n\ntype TClientTotalCount = {\n  data: IListClient[];\n  totalCount: number;\n}\n\nconst getAll = async (page = 1, filter = '', id = 0): Promise<TClientTotalCount | Error> => {\n  try {\n    const urlRelativa = `/clients?page=${page}&limit=${Environment.LIMITE_DE_LINHAS}&filter=${filter}&id=${id}`;\n\n    const { data, headers } = await Api().get(urlRelativa);\n\n    if (data) {\n      return {\n        data,\n        totalCount: Number(headers['x-total-count'] || Environment.LIMITE_DE_LINHAS),\n      };\n    }\n\n    return new Error('Erro ao listar os registros.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao listar os registros.');\n  }\n};\n\nconst getById = async (id: number): Promise<IDetailClient | Error> => {\n  try {\n    const { data } = await Api().get(`/clients/${id}`);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao consultar o registro.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao consultar o registro.');\n  }\n};\n\nconst create = async (dados: Omit<IDetailClient, 'id'>): Promise<number | Error> => {\n  try {\n    const { data } = await Api().post<number>('/clients', dados);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao criar o registro.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao criar o registro.');\n  }\n};\n\nconst updateById = async (id: number, dados: IDetailClient): Promise<void | Error> => {\n  try {\n    await Api().put(`/clients/${id}`, dados);\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao atualizar o registro.');\n  }\n};\n\nconst deleteById = async (id: number): Promise<void | Error> => {\n  try {\n    await Api().delete(`/clients/${id}`);\n  } catch (error) {\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao apagar o registro.');\n  }\n};\n\n\nexport const ClientsService = {\n  getAll,\n  create,\n  getById,\n  updateById,\n  deleteById,\n};\n"]},"metadata":{},"sourceType":"module"}