{"ast":null,"code":"import { Environment } from '../../../environment';\nimport { Api } from '../axios-config';\n\nconst getAll = async function () {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  try {\n    const urlRelativa = `/orders?page=${page}&limit=${Environment.LIMITE_DE_LINHAS}&filter=${filter}&id=${id}`;\n    const {\n      data,\n      headers\n    } = await Api().get(urlRelativa);\n    console.log(data);\n\n    if (data) {\n      return {\n        data,\n        totalCount: Number(headers['x-total-count'] || Environment.LIMITE_DE_LINHAS)\n      };\n    }\n\n    return new Error('Erro ao listar os registros.');\n  } catch (error) {\n    var _response;\n\n    console.error(error);\n    return new Error(((_response = error.response) === null || _response === void 0 ? void 0 : _response.data.errors.default) || 'Erro ao listar os registros.');\n  }\n};\n\nconst getById = async id => {\n  try {\n    const {\n      data\n    } = await Api().get(`/orders/${id}`);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao consultar o registro.');\n  } catch (error) {\n    var _response2;\n\n    console.error(error);\n    return new Error(((_response2 = error.response) === null || _response2 === void 0 ? void 0 : _response2.data.errors.default) || 'Erro ao consultar o registro.');\n  }\n};\n\nconst create = async dados => {\n  try {\n    const {\n      data\n    } = await Api().post('/orders', dados);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao criar o registro.');\n  } catch (error) {\n    var _response3;\n\n    console.error(error);\n    return new Error(((_response3 = error.response) === null || _response3 === void 0 ? void 0 : _response3.data.errors.default) || 'Erro ao criar o registro.');\n  }\n};\n\nconst updateById = async (id, dados) => {\n  try {\n    await Api().put(`/orders/${id}`, dados);\n  } catch (error) {\n    var _response4;\n\n    console.error(error);\n    return new Error(((_response4 = error.response) === null || _response4 === void 0 ? void 0 : _response4.data.errors.default) || 'Erro ao atualizar o registro.');\n  }\n};\n\nconst deleteById = async id => {\n  try {\n    await Api().delete(`/orders/${id}`);\n  } catch (error) {\n    var _response5;\n\n    return new Error(((_response5 = error.response) === null || _response5 === void 0 ? void 0 : _response5.data.errors.default) || 'Erro ao apagar o registro.');\n  }\n};\n\nexport const OrdersService = {\n  getAll,\n  create,\n  getById,\n  updateById,\n  deleteById\n};","map":{"version":3,"sources":["/home/brenomatheus/Documentos/frontend/src/shared/services/api/orders/OrdersService.ts"],"names":["Environment","Api","getAll","page","filter","id","urlRelativa","LIMITE_DE_LINHAS","data","headers","get","console","log","totalCount","Number","Error","error","response","errors","default","getById","create","dados","post","updateById","put","deleteById","delete","OrdersService"],"mappings":"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","sourcesContent":["import { AxiosError } from 'axios';\n\nimport { Environment } from '../../../environment';\nimport { Api } from '../axios-config';\n\n\nexport interface IListOrder {\n  id: number,\n  equipmentID: number,\n  technicianID: number,\n  type: string,\n  defect: string,\n  causes: string,\n  solution: string,\n  date_init_os: Date,\n  date_end_os?: Date,\n  total: number,\n  equipments:object\n}\n\nexport interface IDetailOrder {\n  id: number,\n  equipmentID: number,\n  technicianID: number,\n  type: string,\n  defect: string,\n  causes: string,\n  solution: string,\n  date_init_os: Date,\n  date_end_os?: Date,\n  total: number,\n}\n\ntype TOrderTotalCount = {\n  data: IListOrder[];\n  totalCount: number;\n}\n\nconst getAll = async (page = 1, filter = '', id = 0): Promise<TOrderTotalCount | Error> => {\n  try {\n    const urlRelativa = `/orders?page=${page}&limit=${Environment.LIMITE_DE_LINHAS}&filter=${filter}&id=${id}`;\n    const { data, headers } = await Api().get(urlRelativa);\n    console.log(data);\n    if (data) {\n      return {\n        data,\n        totalCount: Number(headers['x-total-count'] || Environment.LIMITE_DE_LINHAS),\n      };\n    }\n\n    return new Error('Erro ao listar os registros.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao listar os registros.');\n  }\n\n};\n\nconst getById = async (id: number): Promise<IDetailOrder | Error> => {\n  try {\n    const { data } = await Api().get(`/orders/${id}`);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao consultar o registro.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao consultar o registro.');\n  }\n};\n\nconst create = async (dados: Omit<IDetailOrder, 'id'>): Promise<number | Error> => {\n  try {\n    const { data } = await Api().post<number>('/orders', dados);\n\n    if (data) {\n      return data;\n    }\n\n    return new Error('Erro ao criar o registro.');\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao criar o registro.');\n  }\n};\n\nconst updateById = async (id: number, dados: IDetailOrder): Promise<void | Error> => {\n  try {\n    await Api().put(`/orders/${id}`, dados);\n  } catch (error) {\n    console.error(error);\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao atualizar o registro.');\n  }\n};\n\nconst deleteById = async (id: number): Promise<void | Error> => {\n  try {\n    await Api().delete(`/orders/${id}`);\n  } catch (error) {\n    return new Error((error as AxiosError).response?.data.errors.default || 'Erro ao apagar o registro.');\n  }\n};\n\n\nexport const OrdersService = {\n  getAll,\n  create,\n  getById,\n  updateById,\n  deleteById,\n};\n"]},"metadata":{},"sourceType":"module"}