{"ast":null,"code":"import _slicedToArray from\"/home/brenomatheus/Documentos/Projeto advocacia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Box,Button,Card,CardActions,CardContent,CircularProgress,TextField,Typography}from'@mui/material';import*as yup from'yup';import{useAuthContext}from'../../contexts';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var loginSchema=yup.object().shape({email:yup.string().email().required(),password:yup.string().required().min(5)});export var Login=function Login(_ref){var children=_ref.children;var _useAuthContext=useAuthContext(),isAuthenticated=_useAuthContext.isAuthenticated,login=_useAuthContext.login;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),passwordError=_useState4[0],setPasswordError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),emailError=_useState6[0],setEmailError=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var handleSubmit=function handleSubmit(){setIsLoading(true);loginSchema.validate({email:email,password:password},{abortEarly:false}).then(function(dadosValidados){login(dadosValidados.email,dadosValidados.password).then(function(){setIsLoading(false);});}).catch(function(errors){setIsLoading(false);errors.inner.forEach(function(error){if(error.path==='email'){setEmailError(error.message);}else if(error.path==='password'){setPasswordError(error.message);}});});};if(isAuthenticated)return/*#__PURE__*/_jsx(_Fragment,{children:children});return/*#__PURE__*/_jsx(Box,{width:\"100vw\",height:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",gap:2,width:250,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",children:\"Identifique-se\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"email\",label:\"Email\",defaultValue:'matheus@gmail.com',value:email,disabled:isLoading,error:!!emailError,helperText:emailError,onKeyDown:function onKeyDown(){return setEmailError('');},onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Senha\",type:\"password\",defaultValue:'1234567',value:password,disabled:isLoading,error:!!passwordError,helperText:passwordError,onKeyDown:function onKeyDown(){return setPasswordError('');},onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Typography,{width:\"20vw\",variant:\"body2\",color:'GrayText',children:[\"email: matheus@gmail.com\",/*#__PURE__*/_jsx(\"br\",{}),\"senha: 1234567\"]})]}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Box,{width:\"100%\",display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",disabled:isLoading,onClick:handleSubmit,endIcon:isLoading?/*#__PURE__*/_jsx(CircularProgress,{variant:\"indeterminate\",color:\"inherit\",size:20}):undefined,children:\"Entrar\"})})})]})});};","map":{"version":3,"sources":["/home/brenomatheus/Documentos/Projeto advocacia/frontend/src/shared/components/login/Login.tsx"],"names":["useState","Box","Button","Card","CardActions","CardContent","CircularProgress","TextField","Typography","yup","useAuthContext","loginSchema","object","shape","email","string","required","password","min","Login","children","isAuthenticated","login","isLoading","setIsLoading","passwordError","setPasswordError","emailError","setEmailError","setPassword","setEmail","handleSubmit","validate","abortEarly","then","dadosValidados","catch","errors","inner","forEach","error","path","message","e","target","value","undefined"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CircularProgress,\n  TextField,\n  Typography,\n} from '@mui/material';\nimport * as yup from 'yup';\n\nimport { useAuthContext } from '../../contexts';\n\nconst loginSchema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().required().min(5),\n});\n\ninterface ILoginProps {\n  children: React.ReactNode;\n}\nexport const Login: React.FC<ILoginProps> = ({ children }) => {\n  const { isAuthenticated, login } = useAuthContext();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [passwordError, setPasswordError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  const handleSubmit = () => {\n    setIsLoading(true);\n\n    loginSchema\n      .validate({ email, password }, { abortEarly: false })\n      .then((dadosValidados) => {\n        login(dadosValidados.email, dadosValidados.password).then(() => {\n          setIsLoading(false);\n        });\n      })\n      .catch((errors: yup.ValidationError) => {\n        setIsLoading(false);\n\n        errors.inner.forEach((error) => {\n          if (error.path === 'email') {\n            setEmailError(error.message);\n          } else if (error.path === 'password') {\n            setPasswordError(error.message);\n          }\n        });\n      });\n  };\n\n  if (isAuthenticated) return <>{children}</>;\n\n  return (\n    <Box\n      width=\"100vw\"\n      height=\"100vh\"\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Card>\n        <CardContent>\n          <Box display=\"flex\" flexDirection=\"column\" gap={2} width={250}>\n            <Typography variant=\"h6\" align=\"center\">\n              Identifique-se\n            </Typography>\n\n            <TextField\n              fullWidth\n              type=\"email\"\n              label=\"Email\"\n              defaultValue={'matheus@gmail.com'}\n              value={email}\n              disabled={isLoading}\n              error={!!emailError}\n              helperText={emailError}\n              onKeyDown={() => setEmailError('')}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            <TextField\n              fullWidth\n              label=\"Senha\"\n              type=\"password\"\n              defaultValue={'1234567'}\n              value={password}\n              disabled={isLoading}\n              error={!!passwordError}\n              helperText={passwordError}\n              onKeyDown={() => setPasswordError('')}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Box>\n          <Typography\n            width=\"20vw\"\n            variant=\"body2\"\n            color={'GrayText'}\n          >\n            email: matheus@gmail.com \n            <br />senha: 1234567\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Box width=\"100%\" display=\"flex\" justifyContent=\"center\">\n            <Button\n              variant=\"contained\"\n              disabled={isLoading}\n              onClick={handleSubmit}\n              endIcon={\n                isLoading ? (\n                  <CircularProgress\n                    variant=\"indeterminate\"\n                    color=\"inherit\"\n                    size={20}\n                  />\n                ) : undefined\n              }\n            >\n              Entrar\n            </Button>\n          </Box>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}